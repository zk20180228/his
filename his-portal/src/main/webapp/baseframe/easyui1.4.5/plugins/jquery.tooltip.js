!function(t){function o(o){t(o).addClass("tooltip-f")}function i(o){var i=t.data(o,"tooltip").options;t(o).unbind(".tooltip").bind(i.showEvent+".tooltip",function(i){t(o).tooltip("show",i)}).bind(i.hideEvent+".tooltip",function(i){t(o).tooltip("hide",i)}).bind("mousemove.tooltip",function(e){i.trackMouse&&(i.trackMouseX=e.pageX,i.trackMouseY=e.pageY,t(o).tooltip("reposition"))})}function e(o){var i=t.data(o,"tooltip");i.showTimer&&(clearTimeout(i.showTimer),i.showTimer=null),i.hideTimer&&(clearTimeout(i.hideTimer),i.hideTimer=null)}function n(o){function i(i){n.position=i||"bottom",r.removeClass("tooltip-top tooltip-bottom tooltip-left tooltip-right").addClass("tooltip-"+n.position);var e,l;if(n.trackMouse)s=t(),e=n.trackMouseX+n.deltaX,l=n.trackMouseY+n.deltaY;else{var s=t(o);e=s.offset().left+n.deltaX,l=s.offset().top+n.deltaY}switch(n.position){case"right":e+=s._outerWidth()+12+(n.trackMouse?12:0),l-=(r._outerHeight()-s._outerHeight())/2;break;case"left":e-=r._outerWidth()+12+(n.trackMouse?12:0),l-=(r._outerHeight()-s._outerHeight())/2;break;case"top":e-=(r._outerWidth()-s._outerWidth())/2,l-=r._outerHeight()+12+(n.trackMouse?12:0);break;case"bottom":e-=(r._outerWidth()-s._outerWidth())/2,l+=s._outerHeight()+12+(n.trackMouse?12:0)}return{left:e,top:l}}var e=t.data(o,"tooltip");if(e&&e.tip){var n=e.options,r=e.tip,l={left:-1e5,top:-1e5};if(t(o).is(":visible"))if(l=i(n.position),"top"==n.position&&l.top<0?l=i("bottom"):"bottom"==n.position&&l.top+r._outerHeight()>t(window)._outerHeight()+t(document).scrollTop()&&(l=i("top")),l.left<0)"left"==n.position?l=i("right"):(t(o).tooltip("arrow").css("left",r._outerWidth()/2+l.left),l.left=0);else if(l.left+r._outerWidth()>t(window)._outerWidth()+t(document)._scrollLeft())if("right"==n.position)l=i("left");else{var s=l.left;l.left=t(window)._outerWidth()+t(document)._scrollLeft()-r._outerWidth(),t(o).tooltip("arrow").css("left",r._outerWidth()/2-(l.left-s))}r.css({left:l.left,top:l.top,zIndex:void 0!=n.zIndex?n.zIndex:t.fn.window?t.fn.window.defaults.zIndex++:""}),n.onPosition.call(o,l.left,l.top)}}function r(o,i){var n=t.data(o,"tooltip"),r=n.options,l=n.tip;l||(l=t('<div tabindex="-1" class="tooltip"><div class="tooltip-content"></div><div class="tooltip-arrow-outer"></div><div class="tooltip-arrow"></div></div>').appendTo("body"),n.tip=l,s(o)),e(o),n.showTimer=setTimeout(function(){t(o).tooltip("reposition"),l.show(),r.onShow.call(o,i);var e=l.children(".tooltip-arrow-outer"),n=l.children(".tooltip-arrow"),s="border-"+r.position+"-color";e.add(n).css({borderTopColor:"",borderBottomColor:"",borderLeftColor:"",borderRightColor:""}),e.css(s,l.css(s)),n.css(s,l.css("backgroundColor"))},r.showDelay)}function l(o,i){var n=t.data(o,"tooltip");n&&n.tip&&(e(o),n.hideTimer=setTimeout(function(){n.tip.hide(),n.options.onHide.call(o,i)},n.options.hideDelay))}function s(o,i){var e=t.data(o,"tooltip"),n=e.options;if(i&&(n.content=i),e.tip){var r="function"==typeof n.content?n.content.call(o):n.content;e.tip.children(".tooltip-content").html(r),n.onUpdate.call(o,r)}}function a(o){var i=t.data(o,"tooltip");if(i){e(o);var n=i.options;i.tip&&i.tip.remove(),n._title&&t(o).attr("title",n._title),t.removeData(o,"tooltip"),t(o).unbind(".tooltip").removeClass("tooltip-f"),n.onDestroy.call(o)}}t.fn.tooltip=function(e,n){return"string"==typeof e?t.fn.tooltip.methods[e](this,n):(e=e||{},this.each(function(){var n=t.data(this,"tooltip");n?t.extend(n.options,e):(t.data(this,"tooltip",{options:t.extend({},t.fn.tooltip.defaults,t.fn.tooltip.parseOptions(this),e)}),o(this)),i(this),s(this)}))},t.fn.tooltip.methods={options:function(o){return t.data(o[0],"tooltip").options},tip:function(o){return t.data(o[0],"tooltip").tip},arrow:function(t){return t.tooltip("tip").children(".tooltip-arrow-outer,.tooltip-arrow")},show:function(t,o){return t.each(function(){r(this,o)})},hide:function(t,o){return t.each(function(){l(this,o)})},update:function(t,o){return t.each(function(){s(this,o)})},reposition:function(t){return t.each(function(){n(this)})},destroy:function(t){return t.each(function(){a(this)})}},t.fn.tooltip.parseOptions=function(o){var i=t(o),e=t.extend({},t.parser.parseOptions(o,["position","showEvent","hideEvent","content",{trackMouse:"boolean",deltaX:"number",deltaY:"number",showDelay:"number",hideDelay:"number"}]),{_title:i.attr("title")});return i.attr("title",""),e.content||(e.content=e._title),e},t.fn.tooltip.defaults={position:"bottom",content:null,trackMouse:!1,deltaX:0,deltaY:0,showEvent:"mouseenter",hideEvent:"mouseleave",showDelay:200,hideDelay:100,onShow:function(t){},onHide:function(t){},onUpdate:function(t){},onPosition:function(t,o){},onDestroy:function(){}}}(jQuery);